import{q as ee,m as I,u as P,V as O,r as te,a as q,i as ae,d as ne,h as se}from"./_plugin-vue_export-helper-d4f35ec9.js";import{p as S,u as re,F as D,t as le,aj as W,n as w,s as b,r as M,c as h,w as k,_ as ie,K as oe,M as A,N as ue,q as i,U as E,e as z,Q as ce,ak as $,ad as F,ap as de,aq as ve,L as H,x as L,z as U,ar as me,y as ge,as as fe,at as ye}from"./index-97d8f50e.js";const he=S({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),V=(e,s)=>{let{slots:a}=s;const{transition:t,disabled:u,...l}=e,{component:r=le,...c}=typeof t=="object"?t:{};return re(r,D(typeof t=="string"?{name:u?"":t}:c,l,{disabled:u}),a)};function Se(e,s){if(!W)return;const a=s.modifiers||{},t=s.value,{handler:u,options:l}=typeof t=="object"?t:{handler:t,options:{}},r=new IntersectionObserver(function(){var m;let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1?arguments[1]:void 0;const o=(m=e._observe)==null?void 0:m[s.instance.$.uid];if(!o)return;const d=c.some(y=>y.isIntersecting);u&&(!a.quiet||o.init)&&(!a.once||d||o.init)&&u(d,c,g),d&&a.once?K(e,s):o.init=!0},l);e._observe=Object(e._observe),e._observe[s.instance.$.uid]={init:!1,observer:r},r.observe(e)}function K(e,s){var t;const a=(t=e._observe)==null?void 0:t[s.instance.$.uid];a&&(a.observer.unobserve(e),delete e._observe[s.instance.$.uid])}const _e={mounted:Se,unmounted:K},ze=_e,be=S({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,...ee(),...I(),...he()},"VImg"),Ce=w()({name:"VImg",directives:{intersect:ze},props:be(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,s){let{emit:a,slots:t}=s;const u=b(""),l=M(),r=b(e.eager?"loading":"idle"),c=b(),g=b(),o=h(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),d=h(()=>o.value.aspect||c.value/g.value||0);k(()=>e.src,()=>{m(r.value!=="idle")}),k(d,(n,v)=>{!n&&v&&l.value&&C(l.value)}),ie(()=>m());function m(n){if(!(e.eager&&n)&&!(W&&!n&&!e.eager)){if(r.value="loading",o.value.lazySrc){const v=new Image;v.src=o.value.lazySrc,C(v,null)}o.value.src&&oe(()=>{var v,f;if(a("loadstart",((v=l.value)==null?void 0:v.currentSrc)||o.value.src),(f=l.value)!=null&&f.complete){if(l.value.naturalWidth||_(),r.value==="error")return;d.value||C(l.value,null),y()}else d.value||C(l.value),T()})}}function y(){var n;T(),r.value="loaded",a("load",((n=l.value)==null?void 0:n.currentSrc)||o.value.src)}function _(){var n;r.value="error",a("error",((n=l.value)==null?void 0:n.currentSrc)||o.value.src)}function T(){const n=l.value;n&&(u.value=n.currentSrc||n.src)}let R=-1;function C(n){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const f=()=>{clearTimeout(R);const{naturalHeight:j,naturalWidth:N}=n;j||N?(c.value=N,g.value=j):!n.complete&&r.value==="loading"&&v!=null?R=window.setTimeout(f,v):(n.currentSrc.endsWith(".svg")||n.currentSrc.startsWith("data:image/svg+xml"))&&(c.value=1,g.value=1)};f()}const x=h(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),J=()=>{var f;if(!o.value.src||r.value==="idle")return null;const n=i("img",{class:["v-img__img",x.value],src:o.value.src,srcset:o.value.srcset,alt:e.alt,sizes:e.sizes,ref:l,onLoad:y,onError:_},null),v=(f=t.sources)==null?void 0:f.call(t);return i(V,{transition:e.transition,appear:!0},{default:()=>[A(v?i("picture",{class:"v-img__picture"},[v,n]):n,[[ce,r.value==="loaded"]])]})},X=()=>i(V,{transition:e.transition},{default:()=>[o.value.lazySrc&&r.value!=="loaded"&&i("img",{class:["v-img__img","v-img__img--preload",x.value],src:o.value.lazySrc,alt:e.alt},null)]}),Y=()=>t.placeholder?i(V,{transition:e.transition,appear:!0},{default:()=>[(r.value==="loading"||r.value==="error"&&!t.error)&&i("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,Z=()=>t.error?i(V,{transition:e.transition,appear:!0},{default:()=>[r.value==="error"&&i("div",{class:"v-img__error"},[t.error()])]}):null,p=()=>e.gradient?i("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,B=b(!1);{const n=k(d,v=>{v&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{B.value=!0})}),n())})}return P(()=>{const[n]=O.filterProps(e);return A(i(O,D({class:["v-img",{"v-img--booting":!B.value},e.class],style:[{width:z(e.width==="auto"?c.value:e.width)},e.style]},n,{aspectRatio:d.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>i(E,null,[i(J,null,null),i(X,null,null),i(p,null,null),i(Y,null,null),i(Z,null,null)]),default:t.default}),[[ue("intersect"),{handler:m,options:e.options},null,{once:!0}]])}),{currentSrc:u,image:l,state:r,naturalWidth:c,naturalHeight:g}}}),Ve=[null,"default","comfortable","compact"],ke=S({density:{type:String,default:"default",validator:e=>Ve.includes(e)}},"density");function Ie(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$();return{densityClasses:h(()=>`${s}--density-${e.density}`)}}const Pe=["elevated","flat","tonal","outlined","text","plain"];function we(e,s){return i(E,null,[e&&i("span",{key:"overlay",class:`${s}__overlay`},null),i("span",{key:"underlay",class:`${s}__underlay`},null)])}const $e=S({color:String,variant:{type:String,default:"elevated",validator:e=>Pe.includes(e)}},"variant");function Te(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$();const a=h(()=>{const{variant:l}=F(e);return`${s}--variant-${l}`}),{colorClasses:t,colorStyles:u}=te(h(()=>{const{variant:l,color:r}=F(e);return{[["elevated","flat"].includes(l)?"background":"text"]:r}}));return{colorClasses:t,colorStyles:u,variantClasses:a}}const Re=["x-small","small","default","large","x-large"],Q=S({size:{type:[String,Number],default:"default"}},"size");function G(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$();return de(()=>{let a,t;return ve(Re,e.size)?a=`${s}--size-${e.size}`:e.size&&(t={width:z(e.size),height:z(e.size)}),{sizeClasses:a,sizeStyles:t}})}const xe=S({color:String,start:Boolean,end:Boolean,icon:H,...I(),...Q(),...q({tag:"i"}),...L()},"VIcon"),Be=w()({name:"VIcon",props:xe(),setup(e,s){let{attrs:a,slots:t}=s;const u=M(),{themeClasses:l}=U(e),{iconData:r}=me(h(()=>u.value||e.icon)),{sizeClasses:c}=G(e),{textColorClasses:g,textColorStyles:o}=ae(ge(e,"color"));return P(()=>{var m,y;const d=(m=t.default)==null?void 0:m.call(t);return d&&(u.value=(y=fe(d).filter(_=>_.type===ye&&_.children&&typeof _.children=="string")[0])==null?void 0:y.children),i(r.value.component,{tag:e.tag,icon:r.value.icon,class:["v-icon","notranslate",l.value,c.value,g.value,{"v-icon--clickable":!!a.onClick,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[c.value?void 0:{fontSize:z(e.size),height:z(e.size),width:z(e.size)},o.value,e.style],role:a.onClick?"button":void 0,"aria-hidden":!a.onClick},{default:()=>[d]})}),{}}});const je=S({start:Boolean,end:Boolean,icon:H,image:String,...I(),...ke(),...ne(),...Q(),...q(),...L(),...$e({variant:"flat"})},"VAvatar"),Ae=w()({name:"VAvatar",props:je(),setup(e,s){let{slots:a}=s;const{themeClasses:t}=U(e),{colorClasses:u,colorStyles:l,variantClasses:r}=Te(e),{densityClasses:c}=Ie(e),{roundedClasses:g}=se(e),{sizeClasses:o,sizeStyles:d}=G(e);return P(()=>i(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},t.value,u.value,c.value,g.value,o.value,r.value,e.class],style:[l.value,d.value,e.style]},{default:()=>{var m;return[e.image?i(Ce,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?i(Be,{key:"icon",icon:e.icon},null):(m=a.default)==null?void 0:m.call(a),we(!1,"v-avatar")]}})),{}}});export{V as M,Ce as V,$e as a,Q as b,G as c,Te as d,Be as e,Ae as f,we as g,ke as m,Ie as u};
